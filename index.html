<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Maximum Reality ‚Äì Night Run</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
html,body{
  margin:0;
  padding:0;
  overflow:hidden;
  background:#000;
  touch-action:none;
  font-family:sans-serif;
}
#game{
  display:block;
}
#controls{
  position:fixed;
  bottom:10px;
  left:50%;
  transform:translateX(-50%);
  display:flex;
  gap:12px;
  z-index:10;
}
button{
  font-size:26px;
  padding:12px 18px;
  border-radius:12px;
  border:none;
  background:#222;
  color:#fff;
}
</style>
</head>

<body>

<canvas id="game"></canvas>

<div id="controls">
  <button id="left">‚¨ÖÔ∏è</button>
  <button id="jump">‚¨ÜÔ∏è</button>
  <button id="right">‚û°Ô∏è</button>
</div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

function resize(){
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resize();
window.addEventListener("resize", resize);

/* LOAD PLAYER IMAGES */
const runnerRight = new Image();
runnerRight.src = "IMG_2161.png"; // right

const runnerLeft = new Image();
runnerLeft.src = "IMG_2162.png"; // left

/* WORLD LAYOUT */
const roadH = 80;
const grassH = 120;

/* PLAYER */
const player = {
  x: 200,
  y: 0,
  vy: 0,
  jumping:false,
  dir:"right"
};

/* SCROLL */
let scrollX = 0;

/* INPUT */
let left=false, right=false, jump=false;
function bind(btn, down, up){
  btn.addEventListener("touchstart", e=>{e.preventDefault(); down();});
  btn.addEventListener("touchend", e=>{e.preventDefault(); up();});
}
bind(document.getElementById("left"),
  ()=>left=true, ()=>left=false);
bind(document.getElementById("right"),
  ()=>right=true, ()=>right=false);
bind(document.getElementById("jump"),
  ()=>jump=true, ()=>jump=false);

/* SKY DECOR */
const stars = [];
for(let i=0;i<120;i++){
  stars.push({
    x:Math.random()*5000,
    y:Math.random()*300,
    emoji:["‚≠êÔ∏è","‚ú®","üåü"][i%3]
  });
}

const clouds = [
  {x:200,y:120},{x:600,y:160},{x:1000,y:100}
];

/* CITY BUILDINGS */
const buildings = [];
for(let i=0;i<80;i++){
  buildings.push({
    x:i*200,
    emoji:["üè¢","üè¨","üè≠","üè®","üè¶","üè•","üè†","üè°","üïå","‚õ™Ô∏è","üèüÔ∏è"][i%11]
  });
}

/* FOREST TREES */
const forest = [];
for(let i=0;i<40;i++){
  forest.push({
    x:-1200 - i*180,
    emoji: i%2===0 ? "üå≤":"üå≥",
    size: Math.random()*40+60
  });
});

/* FARM ANIMALS */
const farm = [];
const farmStart = -3000;
const farmSpacing = 120;
const farmEmojis = [
  {emoji:"üöú", size:70, speed:0.8, stationary:true},
  {emoji:"üåæ", size:40, speed:0.3, stationary:true},
  {emoji:"üåæ", size:40, speed:0.3, stationary:true},
  {emoji:"üêì", size:40, speed:1.2},
  {emoji:"üêì", size:40, speed:1.0},
  {emoji:"üêë", size:60, speed:0.6},
  {emoji:"üêÑ", size:90, speed:0.4, isCow:true}, // abductable cow
  {emoji:"üêì", size:40, speed:1.0},
  {emoji:"üêñ", size:70, speed:0.5},
  {emoji:"üè†", size:100, speed:0.0, stationary:true},
  {emoji:"üêà", size:30, speed:1.5}
];
farmEmojis.forEach((f,i)=>{
  farm.push({
    x: farmStart + i*farmSpacing,
    y: canvas.height-roadH-grassH+40 + Math.random()*20,
    emoji: f.emoji,
    size: f.size,
    speed: f.speed * (0.9 + Math.random()*0.2),
    stationary: !!f.stationary,
    isCow: f.isCow || false,
    abducted: false
  });
});

/* UFO */
let ufoActive = false;
let ufoX = -1000;
let ufoY = 100;
let abductedCow = null;

/* GAME LOOP */
function update(){
  // SCROLL & PLAYER
  if(left){scrollX -= 5; player.dir="left";}
  if(right){scrollX += 5; player.dir="right";}
  if(jump && !player.jumping){player.vy=-18; player.jumping=true;}
  player.vy += 1;
  player.y += player.vy;
  const groundY = canvas.height - roadH - 18;
  if(player.y > groundY){player.y = groundY; player.vy=0; player.jumping=false;}

  // FARM MOVEMENT
  farm.forEach(f=>{
    if(!f.stationary && !f.abducted) f.x += f.speed;
  });

  // UFO Logic (simple swoop)
  if(Math.random()<0.005 && !ufoActive){ // random appearance
    ufoActive=true;
    ufoX = scrollX + canvas.width + 100;
    ufoY = 100 + Math.random()*50;
    abductedCow = null;
  }
  if(ufoActive){
    ufoX -= 8; // swooping left
    if(abductedCow){
      abductedCow.y -= 2; // move cow into UFO
      abductedCow.x = ufoX;
      if(abductedCow.y < ufoY){ abductedCow.abducted = true; ufoActive=false;}
    } else {
      const cow = farm.find(f=>f.isCow && !f.abducted);
      if(cow && Math.abs(ufoX - cow.x + scrollX*0.5)<50){ abductedCow=cow; }
    }
    if(ufoX < scrollX-200) ufoActive=false;
  }
}

/* DRAW */
function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  /* SKY */
  ctx.fillStyle="#020a2a";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  /* STARS */
  ctx.font="16px sans-serif";
  stars.forEach(s=>{ctx.fillText(s.emoji, s.x - scrollX*0.2, s.y);});

  /* CLOUDS */
  ctx.font="48px sans-serif";
  clouds.forEach(c=>{ctx.fillText("‚òÅÔ∏è", c.x - scrollX*0.15, c.y);});

  /* GRASS */
  ctx.fillStyle="#2f7d32";
  ctx.fillRect(0, canvas.height-roadH-grassH, canvas.width, grassH);

  /* CITY */
  ctx.font="180px sans-serif";
  buildings.forEach(b=>{
    ctx.fillText(b.emoji, b.x - scrollX*0.5, canvas.height-roadH-grassH+10);
  });

  /* FOREST */
  forest.forEach(f=>{
    ctx.font=f.size+"px sans-serif";
    ctx.fillText(f.emoji, f.x - scrollX*0.5, f.y);
  });

  /* FARM */
  farm.forEach(f=>{
    ctx.font=f.size+"px sans-serif";
    ctx.fillText(f.emoji, f.x - scrollX*0.5, f.y);
  });

  /* ROAD */
  ctx.fillStyle="#555";
  ctx.fillRect(0,canvas.height-roadH,canvas.width,roadH);

  /* UFO */
  if(ufoActive) ctx.font="60px sans-serif", ctx.fillText("üõ∏", ufoX - scrollX, ufoY);

  /* PLAYER */
  const img = player.dir==="right" ? runnerRight : runnerLeft;
  ctx.drawImage(img, player.x, player.y-56, 56,56);
}

/* MAIN LOOP */
function loop(){update(); draw(); requestAnimationFrame(loop);}
loop();
</script>

</body>
</html>
