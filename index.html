<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Maximum Reality Space Adventures</title>
<style>
body { margin:0; overflow:hidden; background:#111; font-family:sans-serif; }
canvas { display:block; }
.button { 
    position: fixed; 
    font-size: 48px; 
    background:#ffcc00; 
    color:#000; 
    padding: 12px 20px; 
    border-radius:8px; 
    user-select:none; 
    z-index:1000;
}
#left { left:20px; bottom:20px; }
#right { left:120px; bottom:20px; }
#jump { right:20px; bottom:20px; }
</style>
</head>
<body>

<div id="left" class="button">â—€</div>
<div id="right" class="button">â–¶</div>
<div id="jump" class="button">â¬†</div>

<canvas id="gameCanvas" width="800" height="600"></canvas>

<script>
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

const WIDTH = canvas.width;
const HEIGHT = canvas.height;

const ROAD_Y = HEIGHT - 80;       // Bottom of road
const GREEN_HEIGHT = 100;
const GREY_HEIGHT = 80;

let player = { x:150, y:0, w:64, h:64, vy:0, jumping:false };
let scrollX = 0;

// Buttons
let leftDown=false, rightDown=false, jumpDown=false;
document.getElementById('left').addEventListener('touchstart', ()=>leftDown=true);
document.getElementById('left').addEventListener('touchend', ()=>leftDown=false);
document.getElementById('right').addEventListener('touchstart', ()=>rightDown=true);
document.getElementById('right').addEventListener('touchend', ()=>rightDown=false);
document.getElementById('jump').addEventListener('touchstart', ()=>jumpDown=true);
document.getElementById('jump').addEventListener('touchend', ()=>jumpDown=false);

// Decorations
const CITY = ['ğŸ¡','ğŸ ','ğŸšï¸','â›ªï¸','ğŸ¥','ğŸ¦','ğŸ¨','ğŸ¢','ğŸŸï¸','ğŸ•','ğŸ—ï¸','ğŸ•Œ','ğŸ­','ğŸª','ğŸ«','ğŸ ','ğŸ¡'];
let cityObjects = [];
for(let i=0;i<50;i++){
    cityObjects.push({
        x: i*160,
        y: ROAD_Y-GREEN_HEIGHT + 10 + Math.random()*30,
        emoji: CITY[Math.floor(Math.random()*CITY.length)]
    });
}

// Clouds
let clouds = [
    {x:200, y:50},
    {x:450, y:80},
    {x:650, y:40}
];

// Stars
let stars = [];
for(let i=0;i<100;i++){
    stars.push({x:Math.random()*WIDTH*3, y:Math.random()*(ROAD_Y-GREEN_HEIGHT), size:1+Math.random()*2});
}

// Moon
const moon = {x:50, y:80, emoji:'ğŸŒ–'};

// ---- Set player y on top of grey road ----
player.y = ROAD_Y-GREY_HEIGHT-player.h/2;

// ---- Game loop ----
function gameLoop(){
    update();
    draw();
    requestAnimationFrame(gameLoop);
}

// ---- Update ----
function update(){
    // Player moves
    if(leftDown) player.x -=5;
    if(rightDown) player.x +=5;

    // Jumping
    if(jumpDown && !player.jumping){ player.vy=-12; player.jumping=true; }
    player.vy += 0.6;
    player.y += player.vy;
    if(player.y > ROAD_Y-GREY_HEIGHT-player.h/2){
        player.y = ROAD_Y-GREY_HEIGHT-player.h/2;
        player.vy = 0;
        player.jumping=false;
    }

    // Scroll so player stays near left
    scrollX = player.x - 150;

    // Clouds parallax
    clouds.forEach(c=>{
        c.x += 0.5;
        if(c.x - scrollX > WIDTH) c.x -= WIDTH + 200;
        if(c.x - scrollX < -100) c.x += WIDTH + 200;
    });

    // Stars parallax
    stars.forEach(s=>{
        s.x += 0.2;
        if(s.x - scrollX > WIDTH) s.x -= WIDTH*3;
        if(s.x - scrollX < -100) s.x += WIDTH*3;
    });
}

// ---- Draw ----
function draw(){
    ctx.clearRect(0,0,WIDTH,HEIGHT);

    // Sky (dark blue)
    ctx.fillStyle = "#0b1d51";
    ctx.fillRect(0,0,WIDTH,ROAD_Y-GREEN_HEIGHT);

    // Stars
    stars.forEach(s=>{
        ctx.fillStyle = "#fff";
        ctx.beginPath();
        ctx.arc(s.x - scrollX*0.2, s.y, s.size, 0, Math.PI*2);
        ctx.fill();
    });

    // Moon
    ctx.font="48px sans-serif";
    ctx.fillText(moon.emoji, moon.x, moon.y);

    // Clouds
    ctx.font="48px sans-serif";
    clouds.forEach(c=>{
        ctx.fillText("â˜ï¸", c.x - scrollX*0.5, c.y);
    });

    // Green grass
    ctx.fillStyle="#2ecc71";
    ctx.fillRect(0,ROAD_Y-GREEN_HEIGHT,WIDTH,GREEN_HEIGHT);

    // City objects
    ctx.font="48px sans-serif";
    cityObjects.forEach(obj=>{
        ctx.fillText(obj.emoji, obj.x - scrollX, obj.y);
    });

    // Grey road
    ctx.fillStyle="#666";
    ctx.fillRect(0,ROAD_Y,WIDTH,GREY_HEIGHT);

    // Player
    ctx.font="64px sans-serif";
    ctx.fillText("ğŸƒğŸ¼â€â™€ï¸", player.x - scrollX, player.y);
}

gameLoop();
</script>

</body>
</html>
