<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Maximum Reality ‚Äì Night Run UFO Abduction</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
html,body{
  margin:0;
  padding:0;
  overflow:hidden;
  background:#020a2a;
  touch-action:none;
  font-family:sans-serif;
}

#game{
  display:block;
}

#controls{
  position:fixed;
  bottom:10px;
  left:50%;
  transform:translateX(-50%);
  display:flex;
  gap:12px;
  z-index:10;
}

button{
  font-size:26px;
  padding:12px 18px;
  border-radius:12px;
  border:none;
  background:#222;
  color:#fff;
}
</style>
</head>

<body>

<canvas id="game"></canvas>

<div id="controls">
  <button id="left">‚¨ÖÔ∏è</button>
  <button id="jump">‚¨ÜÔ∏è</button>
  <button id="right">‚û°Ô∏è</button>
</div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

function resize(){
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resize();
window.addEventListener("resize", resize);

/* LOAD PLAYER IMAGES */
const runnerRight = new Image();
runnerRight.src = "IMG_2161.png";

const runnerLeft = new Image();
runnerLeft.src = "IMG_2162.png";

/* WORLD LAYOUT */
const roadH = 80;
const grassH = 120;

/* PLAYER */
const player = {
  x: 0,
  y: canvas.height - roadH - 56,
  vy: 0,
  jumping:false,
  dir:"right"
};

/* SCROLL */
let scrollX = 0;

/* INPUT */
let left=false, right=false, jump=false;

function bind(btn, down, up){
  btn.addEventListener("touchstart", e=>{e.preventDefault(); down();});
  btn.addEventListener("touchend", e=>{e.preventDefault(); up();});
}

bind(document.getElementById("left"),
  ()=>left=true, ()=>left=false);
bind(document.getElementById("right"),
  ()=>right=true, ()=>right=false);
bind(document.getElementById("jump"),
  ()=>jump=true, ()=>jump=false);

/* BACKGROUND ELEMENTS */
// Stars
const stars = [];
for(let i=0;i<120;i++){
  stars.push({x:Math.random()*8000,y:Math.random()*300,emoji:["‚≠êÔ∏è","‚ú®","üåü"][i%3]});
}

// Clouds
const clouds = [
  {x:-1500,y:120},{x:-1000,y:160},{x:0,y:100},{x:500,y:140},{x:1500,y:110}
];

// Moon
const moon = {x:100,y:100,emoji:"üåñ"};

// City (far left)
const buildings = [];
const cityStart = -2000;
for(let i=0;i<12;i++){
  buildings.push({
    x: cityStart + i*180,
    emoji:["üè¢","üè¨","üè≠","üè®","üè¶","üè•","üè†","üè°","üïå","‚õ™Ô∏è","üèüÔ∏è","üèóÔ∏è"][i%12],
    size: 180
  });
}

// Farm (far right)
const farmStart = 1000;
const farmHouse = {x:farmStart, y:canvas.height-roadH-grassH+10, size:120, emoji:"üè°"};

const farmAnimals = [
  {emoji:"üêÑ",x:farmStart+100,y:canvas.height-roadH-56,size:56},   // cow
  {emoji:"üöú",x:farmStart+50,y:canvas.height-roadH-56,size:56},    // tractor
  {emoji:"üêë",x:farmStart+150,y:canvas.height-roadH-48,size:48},   // sheep
  {emoji:"üêñ",x:farmStart+200,y:canvas.height-roadH-40,size:40},   // pig
  {emoji:"üêà",x:farmStart+220,y:canvas.height-roadH-32,size:32},   // cat
  {emoji:"üêì",x:farmStart+80,y:canvas.height-roadH-24,size:24},    // chicken
  {emoji:"üêì",x:farmStart+130,y:canvas.height-roadH-24,size:24},   // chicken
  {emoji:"üåæ",x:farmStart+180,y:canvas.height-roadH-16,size:16}    // wheat
];

// UFO
const ufo = {emoji:"üõ∏",x:farmStart+100,y:0,size:40,active:false,scale:0.5};

/* LOOP */
function update(){
  // Player movement
  if(left){
    player.x -= 5;
    player.dir="left";
  }
  if(right){
    player.x += 5;
    player.dir="right";
  }

  if(jump && !player.jumping){
    player.vy = -18;
    player.jumping = true;
  }

  player.vy += 1;
  player.y += player.vy;

  const groundY = canvas.height - roadH - 56;
  if(player.y > groundY){
    player.y = groundY;
    player.vy = 0;
    player.jumping = false;
  }

  // Scroll to keep player centered
  scrollX = player.x - canvas.width/2;

  // UFO abduction
  const cow = farmAnimals[0];
  if(!ufo.active && Math.abs(player.x - cow.x) < 10){
    ufo.active = true;
    ufo.y = -60;
    ufo.scale = 0.5;
  }
  if(ufo.active){
    // UFO swoop down
    if(ufo.y < cow.y - 60){
      ufo.y += 4;  // speed down
      ufo.scale += 0.01;
    } else {
      // Lift cow
      cow.y -= 3;
      ufo.y = cow.y - 60;
      if(cow.y + cow.size < ufo.y){ 
        // disappear
        cow.x = -1000; // move off screen
        ufo.active = false; // reset UFO
        ufo.y = -60;
        ufo.scale = 0.5;
        cow.y = canvas.height-roadH-56; // reset cow
      }
    }
  }
}

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  // Sky
  ctx.fillStyle="#020a2a";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  // Stars
  ctx.font="16px sans-serif";
  stars.forEach(s=>ctx.fillText(s.emoji,s.x - scrollX*0.2, s.y));

  // Clouds
  ctx.font="48px sans-serif";
  clouds.forEach(c=>ctx.fillText("‚òÅÔ∏è",c.x - scrollX*0.15,c.y));

  // Moon
  ctx.font="80px sans-serif";
  ctx.fillText(moon.emoji, moon.x - scrollX*0.15, moon.y);

  // Grass
  ctx.fillStyle="#2f7d32";
  ctx.fillRect(0,canvas.height-roadH-grassH,canvas.width,grassH);

  // Road
  ctx.fillStyle="#555";
  ctx.fillRect(0,canvas.height-roadH,canvas.width,roadH);

  // City
  ctx.font="180px sans-serif";
  buildings.forEach(b=>ctx.fillText(b.emoji,b.x - scrollX*0.5,canvas.height-roadH-grassH+10));

  // Farm house
  ctx.font=farmHouse.size+"px sans-serif";
  ctx.fillText(farmHouse.emoji,farmHouse.x - scrollX, farmHouse.y);

  // Farm animals
  farmAnimals.forEach(a=>{
    ctx.font=a.size+"px sans-serif";
    ctx.fillText(a.emoji,a.x - scrollX,a.y);
  });

  // UFO
  if(ufo.active){
    ctx.font=(ufo.size*ufo.scale)+"px sans-serif";
    ctx.fillText(ufo.emoji,ufo.x - scrollX,ufo.y);
  }

  // Player
  const img = player.dir === "right" ? runnerRight : runnerLeft;
  ctx.drawImage(img,player.x - scrollX,player.y - 56,56,56);
}

function loop(){
  update();
  draw();
  requestAnimationFrame(loop);
}

loop();
</script>
</body>
</html>
